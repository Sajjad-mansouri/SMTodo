{%extends 'base.html'%}

{%block title%}
{%endblock%}

{%block body%}

<!--For Page-->
<div class="container m-5 p-2 rounded mx-auto bg-light shadow" style="max-width: 60%;">
    <!-- App title section -->
    <div class="row m-1 p-4">
        <div class="col">
            <div class="p-1 h1 text-primary text-center mx-auto display-inline-block">
                <i class="fa fa-check bg-primary text-white rounded p-2"></i>
                <u>My Todo-s</u>
            </div>
        </div>
    </div>
    <div class="row m-1 p-3">
    <!-- Create todo section -->
    {%include 'partials/_add_form.html'%}

    </div>
    <div class="p-2 mx-4 border-black-25 border-bottom"></div>
    
    <!-- View options section -->
    <div class="row m-1 p-3 px-5 justify-content-end">
        <div class="col-auto d-flex align-items-center">
            <label class="text-secondary my-2 pr-2 view-opt-label">Filter</label>

            <select class="form-select btn btn-secondary my-2 mx-2">
                <option value="all" selected>All </option>
                <option value="completed">Completed</option>
                <option value="active">Active</option>
            </select>
        </div>
        

        <div class="col-auto d-flex align-items-center px-1 pr-3">
                  <form action="/action_page.php">
                    <input type="date" id="birthday" name="birthday">
                  </form>
        </div>
    </div>
    <!-- Todo list section -->

      
      <div class="card-hover-shadow-2x mb-3 card">

        <div class="scroll-area-sm">
          <perfect-scrollbar class="ps-show-limits">
            <div style="position: static;" class="ps ps--active-y">
              <div class="ps-content">
                 <p class="text-center my-3 "><a  class='previousDate'href=""></a> <i class="fa-regular fa-calendar-check"></i> <span class="currentDate" currentDate='{{day|date:"Y-m-d"}}'>Today</span> <a  class='nextDate'href=""></a></p>
                <!-- todo list template -->
                              <div class='todo-div' style="display:none">
                                  <li class="list-group-item todo-list" role="button"  >
                                    <div class="todo-indicator bg-warning"></div>
                                    <div class="widget-content p-0">
                                      <div class="widget-content-wrapper">
                                        <div class="widget-content-left mr-2">
                                          <div class="custom-checkbox custom-control">
                                            <input class="custom-control-input"
                                               type="checkbox" 

                                              ><label class="custom-control-label"
                                              for="exampleCustomCheckbox12">&nbsp;</label>
                                            </div>
                                        </div>
                                        <div class="widget-content-left">
                                          <div class="widget-heading todo-text">
                                          </div>
                                          
                                        </div>

                                      </div>
                                    </div>
                                  </li>
                        

                              
                                <div class="card card-body collapse" >
                                      <div class="widget-content-right">
                                        <button class="border-0 btn-transition btn btn-outline-success" data-type='status' data=''>
                                  <i class="fa fa-check"></i></button>
                                         <button class="border-0 btn-transition btn btn-outline-secondary" data-type='update' data=''>
                                          <i class="fa-regular fa-pen-to-square"></i></button>
                                          <button class="border-0 btn-transition btn btn-outline-danger btn-remove" data-type='remove' data=''>
                                         <i class="fa fa-trash"></i>
                                         
                                        </button>
                                      </div>
                                </div>
                              </div>
                <!--end todo list template -->


                  <nav>
                    <div class="nav nav-tabs" id="nav-tab" role="tablist">
                      <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">todo</button>
                      <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">completed</button>


                    </div>
                  </nav>
                  <div class="tab-content" id="nav-tabContent">
                    <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab" tabindex="0">
                      
                      <ul class=" list-group list-group-flush todo-ul">
                          {%for todo in todos %}
                          
                              <div id='div-{{todo.id}}'class='todo-div'>
                                  <li class="list-group-item todo-list" role="button"  >
                                    <div class="todo-indicator bg-warning"></div>
                                    <div class="widget-content p-0">
                                      <div class="widget-content-wrapper">
                                        <div class="widget-content-left mr-2">
                                          <div class="custom-checkbox custom-control">
                                            <input class="custom-control-input"
                                               type="checkbox" id='{{todo.id}}'
                                              {%if todo.status%}
                                              checked
                                              {%endif%}
                                              ><label class="custom-control-label"
                                              for="exampleCustomCheckbox12">&nbsp;</label>
                                            </div>
                                        </div>
                                        <div class="widget-content-left">
                                          <div class="widget-heading todo-text">{{todo.text}} 
                                          </div>
                                          
                                        </div>

                                      </div>
                                    </div>
                                  </li>
                        

                              
                                <div class="card card-body collapse" >
                                      <div class="widget-content-right">
                                        <button class="border-0 btn-transition btn btn-outline-success" data-type='status' data='{{todo.id}}'>
                                  <i class="fa fa-check"></i></button>
                                         <button class="border-0 btn-transition btn btn-outline-secondary" data-type='update' data='{{todo.id}}'>
                                          <i class="fa-regular fa-pen-to-square"></i></button>
                                          <button class="border-0 btn-transition btn btn-outline-danger btn-remove" data-type='remove' data='{{todo.id}}'>
                                         <i class="fa fa-trash"></i>
                                         
                                        </button>
                                      </div>
                                </div>
                              
                              </div>
                          {%endfor%}

                      </ul>

                    </div>
                    <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab" tabindex="0">
                      <ul class=" list-group list-group-flush finished-ul">
                          {%for todo in finished %}
                                    
                                        <div id='div-{{todo.id}}'class='todo-div'>
                                            <li class="list-group-item  todo-list"  role="button"  >
                                              <div class="todo-indicator bg-warning"></div>
                                              <div class="widget-content p-0">
                                                <div class="widget-content-wrapper">
                                                  <div class="widget-content-left mr-2">
                                                    <div class="custom-checkbox custom-control">
                                                      <input class="custom-control-input"
                                                         type="checkbox" id='{{todo.id}}'
                                                        {%if todo.status%}
                                                        checked
                                                        {%endif%}
                                                        ><label class="custom-control-label"
                                                        for="exampleCustomCheckbox12">&nbsp;</label>
                                                      </div>
                                                  </div>
                                                  <div class="widget-content-left">
                                                    <div class="widget-heading todo-text">{{todo.text}} 

                                                </div>
                                              </div>
                                            </li>
                                     

                                        
                                    <div class="card card-body collapse" >
                                      <div class="widget-content-right">
                                        <button class="border-0 btn-transition btn btn-outline-success" data-type='status' data='{{todo.id}}'>
                                  <i class="fa fa-check"></i></button>
                                         <button class="border-0 btn-transition btn btn-outline-secondary" data-type='update' data='{{todo.id}}'>
                                          <i class="fa-regular fa-pen-to-square"></i></button>
                                          <button class="border-0 btn-transition btn btn-outline-danger btn-remove" data-type='remove' data='{{todo.id}}'>
                                         <i class="fa fa-trash"></i>
                                         
                                        </button>
                                      </div>
                                </div>
                                        
                                        </div>

                          {%endfor%}
                      </ul>
                    </div>

                  </div>



              </div>
              
            </div>
          </perfect-scrollbar>
        </div>


</div>
{%endblock%}